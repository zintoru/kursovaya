{% extends 'base.html' %}

{% block title %}
Добавить отзыв
{% endblock %}

{% block content %}
<div class="container add-rating-container">
    <h1 class="page-title">Добавить отзыв для 
        <span class="teacher-name">
            {{ teacher.last_name }} {{ teacher.first_name }} 
            {% if teacher.patronymic %}
                {{ teacher.patronymic }}
            {% endif %}
        </span>
    </h1>

    <div class="add-rating-wrapper">
        <form method="post" class="add-rating-form">
            {% csrf_token %}
            
            {% if existing_rating %}
            <div class="alert alert-info">
                Вы уже оставили отзыв для этого преподавателя. Вы можете изменить свой текущий отзыв.
            </div>
            {% endif %}

            <div class="form-group">
                <label for="teaching_quality">Качество преподавания</label>
                <select name="teaching_quality" id="teaching_quality" class="form-control">
                    <option value="">Выберите оценку</option>
                    <option value="1">1 - Очень плохо</option>
                    <option value="2">2 - Плохо</option>
                    <option value="3">3 - Удовлетворительно</option>
                    <option value="4">4 - Хорошо</option>
                    <option value="5">5 - Отлично</option>
                </select>
                {% if form.teaching_quality.errors %}
                    <div class="error-message">{{ form.teaching_quality.errors }}</div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="availability">Доступность</label>
                <select name="availability" id="availability" class="form-control">
                    <option value="">Выберите оценку</option>
                    <option value="1">1 - Очень плохо</option>
                    <option value="2">2 - Плохо</option>
                    <option value="3">3 - Удовлетворительно</option>
                    <option value="4">4 - Хорошо</option>
                    <option value="5">5 - Отлично</option>
                </select>
                {% if form.availability.errors %}
                    <div class="error-message">{{ form.availability.errors }}</div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="methodology">Методология</label>
                <select name="methodology" id="methodology" class="form-control">
                    <option value="">Выберите оценку</option>
                    <option value="1">1 - Очень плохо</option>
                    <option value="2">2 - Плохо</option>
                    <option value="3">3 - Удовлетворительно</option>
                    <option value="4">4 - Хорошо</option>
                    <option value="5">5 - Отлично</option>
                </select>
                {% if form.methodology.errors %}
                    <div class="error-message">{{ form.methodology.errors }}</div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="comment">Комментарий</label>
                <textarea name="comment" id="comment" class="form-control" rows="3" placeholder="Ваш отзыв"></textarea>
                {% if form.comment.errors %}
                    <div class="error-message">{{ form.comment.errors }}</div>
                {% endif %}
            </div>

            <button type="submit" class="btn btn-primary">Сохранить отзыв</button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    .add-rating-container {
        max-width: 500px;
        margin: 0 auto;
        padding: 2rem 1rem;
    }

    .add-rating-wrapper {
        background-color: white;
        border-radius: 8px;
        padding: 2rem;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }
</style>
{% endblock %}
